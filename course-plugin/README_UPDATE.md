# –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å course-plugin –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `git pull`!

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–ª–∞–≥–∏–Ω–∞ **–Ω–µ—Ç** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Git. –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ! –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ GitHub, –∞ –ø–ª–∞–≥–∏–Ω - —ç—Ç–æ –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥ –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ.

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –°–ø–æ—Å–æ–± 1: –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ `mbs.russianseminary.org`:**
```bash
cd /var/www/www-root/data/www/mbs.russianseminary.org/wp-content/plugins/course-plugin
./update-from-github.sh
```

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ `site.dekan.pro`:**
```bash
cd /var/www/www-root/data/www/site.dekan.pro/wp-content/plugins/course-plugin
./update-from-github.sh
```

**–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ—Ç, —Å–∫–∞—á–∞–π—Ç–µ –µ–≥–æ:**
```bash
cd /var/www/www-root/data/www/–í–ê–®_–°–ê–ô–¢/wp-content/plugins/course-plugin
wget -O update-from-github.sh https://raw.githubusercontent.com/ValentinK2410/course_wp/master/course-plugin/update-from-github.sh
chmod +x update-from-github.sh
./update-from-github.sh
```

**–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø—É—Ç—å –∫ –ø–ª–∞–≥–∏–Ω—É**, –µ—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–ª–∞–≥–∏–Ω–∞ –∏–ª–∏ —É–∫–∞–∂–µ—Ç–µ –ø—É—Ç—å –≤—Ä—É—á–Ω—É—é:
```bash
PLUGIN_DIR=/–ø—É—Ç—å/–∫/–ø–ª–∞–≥–∏–Ω—É ./update-from-github.sh
```

### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–ª–∞–≥–∏–Ω–∞
cd /var/www/www-root/data/www/–í–ê–®_–°–ê–ô–¢/wp-content/plugins/course-plugin

# 2. –°–æ–∑–¥–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ –∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
TEMP_DIR="/tmp/course_wp_update_$$"
mkdir -p "$TEMP_DIR"
cd "$TEMP_DIR"
git clone https://github.com/ValentinK2410/course_wp.git .

# 3. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
BACKUP_DIR="/tmp/course-plugin-backup-$(date +%Y%m%d-%H%M%S)"
cp -r /var/www/www-root/data/www/–í–ê–®_–°–ê–ô–¢/wp-content/plugins/course-plugin "$BACKUP_DIR"

# 4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã
rsync -avz --delete \
    --exclude='.git' \
    --exclude='.DS_Store' \
    "$TEMP_DIR/course-plugin/" /var/www/www-root/data/www/–í–ê–®_–°–ê–ô–¢/wp-content/plugins/course-plugin/

# 5. –û—á–∏—Å—Ç–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
rm -rf "$TEMP_DIR"
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
cd /var/www/www-root/data/www/–í–ê–®_–°–ê–ô–¢/wp-content/plugins/course-plugin
wget -O check-setup.sh https://raw.githubusercontent.com/ValentinK2410/course_wp/master/course-plugin/check-setup.sh
chmod +x check-setup.sh
./check-setup.sh
```

## üìã –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

1. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—É—Ç—å –∫ –ø–ª–∞–≥–∏–Ω—É
2. ‚úÖ –ö–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–∑ GitHub –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
3. ‚úÖ –°–æ–∑–¥–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ç–µ–∫—É—â–∏—Ö —Ñ–∞–π–ª–æ–≤
4. ‚úÖ –ö–æ–ø–∏—Ä—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ `course-plugin/` –Ω–∞ —Å–µ—Ä–≤–µ—Ä
5. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
6. ‚úÖ –û—á–∏—â–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

## üö´ –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å

- ‚ùå `git pull` - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç.–∫. –Ω–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Git
- ‚ùå `git clone` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø–ª–∞–≥–∏–Ω–∞ - —Å–æ–∑–¥–∞—Å—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚ùå –†—É—á–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ - –º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å —á—Ç–æ-—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å

## ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å

- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `update-from-github.sh`
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ `check-setup.sh`
- ‚úÖ –î–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º (—Å–∫—Ä–∏–ø—Ç –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø–ª–∞–≥–∏–Ω:**
```bash
# –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –≤—Ä—É—á–Ω—É—é
PLUGIN_DIR=/var/www/www-root/data/www/–í–ê–®_–°–ê–ô–¢/wp-content/plugins/course-plugin ./update-from-github.sh
```

**–ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:**
```bash
chmod +x update-from-github.sh
```

**–ï—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∑–∞–ø–∏—Å—å:**
```bash
sudo ./update-from-github.sh
```
