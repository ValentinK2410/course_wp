# Быстрая установка исправления уведомления

## Проблема
Уведомление на странице плагинов: `Function _load_textdomain_just_in_time was called incorrectly` для `miniorange-login-openid`

## Быстрое решение (3 способа)

### Способ 1: Установка плагина (рекомендуется) ⭐

1. **Скопируйте файл на сервер:**
   ```bash
   # Путь к файлу плагина
   /Users/valentink2410/PhpstormProjects/course_wp/course-plugin/fix-miniorange-translation-notice.php
   
   # Скопируйте в папку плагинов WordPress
   wp-content/plugins/fix-miniorange-translation-notice.php
   ```

2. **Активируйте плагин:**
   - Перейдите: **Плагины → Установленные плагины**
   - Найдите: "Исправление уведомления miniorange-login-openid"
   - Нажмите: **Активировать**

3. **Готово!** Обновите страницу плагинов - уведомление исчезнет.

---

### Способ 2: Must-Use плагин (автоматическая активация)

1. **Создайте папку mu-plugins** (если её нет):
   ```bash
   mkdir -p /var/www/www-root/data/www/mbs.russianseminary.org/wp-content/mu-plugins
   ```

2. **Скопируйте файл:**
   ```bash
   cp course-plugin/fix-miniorange-translation-notice.php \
      /var/www/www-root/data/www/mbs.russianseminary.org/wp-content/mu-plugins/
   ```

3. **Готово!** Плагин автоматически активируется.

---

### Способ 3: Добавить в functions.php темы (быстро, но менее надежно)

Добавьте в конец файла `wp-content/themes/ваша-тема/functions.php`:

```php
// Исправление уведомления miniorange-login-openid
add_filter('doing_it_wrong_trigger_error', function($trigger, $function_name, $message) {
    if ($function_name === '_load_textdomain_just_in_time' && 
        is_string($message) && strpos($message, 'miniorange-login-openid') !== false) {
        return false;
    }
    return $trigger;
}, 10, 3);

add_filter('doing_it_wrong_run', function($run, $function_name, $message) {
    if ($function_name === '_load_textdomain_just_in_time' && 
        is_string($message) && strpos($message, 'miniorange-login-openid') !== false) {
        return false;
    }
    return $run;
}, 10, 3);
```

---

## Проверка работы

После установки:
1. Откройте: `/wp-admin/plugins.php`
2. Уведомление должно исчезнуть ✅

## Что делает исправление?

Плагин использует **3 уровня защиты**:
1. Фильтр `doing_it_wrong_trigger_error` - основной метод
2. Фильтр `doing_it_wrong_run` - дополнительная защита
3. Обработчик ошибок `error_handler` - низкоуровневая защита

Подавляется **только** уведомление о `miniorange-login-openid`. Все остальные уведомления WordPress работают нормально.

## Удаление

**Для обычного плагина:**
- Плагины → Деактивировать → Удалить

**Для mu-plugins:**
- Удалите файл из `wp-content/mu-plugins/`

**Для functions.php:**
- Удалите добавленный код

---

**Рекомендация:** Используйте **Способ 1** (обычный плагин) - его проще управлять через админ-панель.
